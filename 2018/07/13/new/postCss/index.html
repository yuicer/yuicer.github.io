<!doctype html>



  


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />












  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.0" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="yuicerçš„é—²è¨€ä¹±è¯­" />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.0" />






<meta property="og:type" content="article">
<meta property="og:title" content="postCss">
<meta property="og:url" content="http://yuicer.com/2018/07/13/new/postCss/index.html">
<meta property="og:site_name" content="yuicer">
<meta property="og:locale" content="zh-Hans">
<meta property="og:updated_time" content="2018-07-16T09:13:34.109Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="postCss">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    sidebar: {"position":"left","display":"post"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: "",
      labels: ""
    }
  };
</script>



  <link rel="canonical" href="http://yuicer.com/2018/07/13/new/postCss/"/>





  <title> postCss | yuicer </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  



  <script type="text/javascript">
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?fc515cb84f85ab78c6ddae0d885911db";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>






  <div style="display: none;">
    <script src="//s95.cnzz.com/z_stat.php?id=1261001148&web_id=1261001148" language="JavaScript"></script>
  </div>





  
  
    
  

  <div class="container one-collumn sidebar-position-left page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">yuicer</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle">colorful wanted</p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-game">
          <a href="/catice" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-gamepad"></i> <br />
            
            æ¸¸æˆ
          </a>
        </li>
      
        
        <li class="menu-item menu-item-diary">
          <a href="/diary" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-columns"></i> <br />
            
            æ—¥è®°
          </a>
        </li>
      
        
        <li class="menu-item menu-item-album">
          <a href="/album" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-photo"></i> <br />
            
            ç›¸å†Œ
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br />
            
            æœç´¢
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup">
 <span class="search-icon fa fa-search"></span>
 <input type="text" id="local-search-input">
 <div id="local-search-result"></div>
 <span class="popup-btn-close">close</span>
</div>


    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://yuicer.com/2018/07/13/new/postCss/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="yuicer">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="http://olti9qjwg.bkt.clouddn.com/qiniu/img/me.config/me.png">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="yuicer">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="yuicer" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                postCss
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-07-13T14:05:30+08:00">
                2018-07-13
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
              <span class="post-meta-divider">|</span>
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/å°ºå·¥/" itemprop="url" rel="index">
                    <span itemprop="name">å°ºå·¥</span>
                  </a>
                </span>

                
                
              
            </span>
          

<!--shandiao-->
          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        <p></p><p></p><br><a id="more"></a><p></p>
<h2 id="postCss"><a href="#postCss" class="headerlink" title="postCss"></a>postCss</h2><h3 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h3><p>åœ¨ä¹‹å‰ä½¿ç”¨ vue-cli webpack æ¨¡ç‰ˆçš„æ—¶å€™ä¸€ç›´æœ‰ä¸ªé—®é¢˜ï¼Œå®ƒå¯¹æœ‰äº› css å±æ€§ï¼Œä¾‹å¦‚å¤šè¡Œæº¢å‡º  <code>-webkit-box-orient: vertical;</code> åœ¨ç¼–è¯‘ä¹‹åä¼šè¢«å¹²æ‰ï¼Œä½†æ˜¯åœ¨çƒ­ç¼–è¯‘çš„æ—¶å€™å´æ˜¯å­˜åœ¨çš„ã€‚ä¹‹å‰å› ä¸ºä¸€æ—¶æ‰¾ä¸åˆ°åŸå› ï¼Œè€Œä¸”æ—¶é—´ç´§æ‰€ä»¥æ²¡å»ä»”ç»†ç ”ç©¶åˆ°åº•æ˜¯ä»€ä¹ˆå¯¼è‡´äº†è¿™ä¸ªé—®é¢˜ï¼Œä¸ºä»€ä¹ˆå®˜æ–¹çš„æ¨¡ç‰ˆä¼šæœ‰è¿™ä¸ªé—®é¢˜ã€‚</p>
<h3 id="è§£å†³æ–¹æ³•"><a href="#è§£å†³æ–¹æ³•" class="headerlink" title="è§£å†³æ–¹æ³•"></a>è§£å†³æ–¹æ³•</h3><p>å…ˆæŠŠèƒ½ç”¨çš„è§£å†³æ–¹æ³•å†™åœ¨ä¸‹é¢ï¼ŒæŠŠä¸‹é¢å¯¹åº”çš„ä»£ç æ›´æ”¹å¦‚ä¸‹ï¼Œå³å¢åŠ ä¸€ä¸ª <code>autoprefixer: false</code><br><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">//</span> <span class="string">webpack.prod.conf.js</span></span><br><span class="line"><span class="string">new</span> <span class="string">OptimizeCSSPlugin(&#123;</span></span><br><span class="line"><span class="attr">  cssProcessorOptions:</span> <span class="string">config.build.productionSourceMap</span></span><br><span class="line">    <span class="string">?</span> <span class="string">&#123;</span> <span class="attr">safe:</span> <span class="literal">true</span><span class="string">,</span> <span class="attr">map:</span> <span class="string">&#123;</span> <span class="attr">inline:</span> <span class="literal">false</span> <span class="string">&#125;,</span> <span class="attr">autoprefixer:</span> <span class="literal">false</span><span class="string">&#125;</span></span><br><span class="line">    <span class="string">:</span> <span class="string">&#123;</span> <span class="attr">safe:</span> <span class="literal">true</span> <span class="string">&#125;</span></span><br><span class="line"><span class="string">&#125;),</span></span><br></pre></td></tr></table></figure></p>
<p>å–è€Œä»£ä¹‹ä½¿ç”¨çš„æ˜¯ä¸€äº›å†…è¿çš„æ ·å¼æˆ–è€…æ˜¯åœ¨ index.html è¿™ç±»ä¸ä¼šè¢«ç¼–è¯‘çš„æ–‡ä»¶é‡Œé¢å»å†™æ ·å¼ã€‚ã€ä¸ºä»€ä¹ˆä¸åœ¨ static é‡Œé¢ï¼Œå› ä¸ºè§‰å¾—è·¯å¾„ç®¡ç†å¾ˆéº»çƒ¦ã€‘</p>
<h3 id="postCss-1"><a href="#postCss-1" class="headerlink" title="postCss"></a>postCss</h3><p>é¦–å…ˆè‚¯å®šèƒ½æ˜ç¡®å®ƒæ˜¯ä¸€ä¸ªç¼–è¯‘é—®é¢˜ï¼Œæ›´å‡†ç¡®ä¸€ç‚¹æ˜¯ webpack åœ¨è¿›è¡Œ build æ‰“åŒ…çš„æ—¶å€™é‡‡å–äº†æŸäº›ç­–ç•¥å¹²æ‰äº†è¿™ä¸ªæ ·å¼ã€‚<br>æŸ¥æ‰¾çš„æ—¶å€™å‘ç°æ˜¯ autoprefixer æ£çš„é¬¼ï¼Œè€Œå®ƒæ˜¯ postCss å–œçˆ±çš„ä¸€ä¸ªå·¥å…·ï¼Œæ‰€ä»¥å°±ä»å¤´å¼€å§‹ç†ä¸€ä¸‹</p>
<p><a href="https://github.com/postcss/postcss" target="_blank" rel="noopener">postCss</a></p>
<ul>
<li><p>PostCSS æ˜¯ä¸€ä¸ªå…è®¸ä½¿ç”¨ JS æ’ä»¶è½¬æ¢æ ·å¼çš„å·¥å…·ã€‚ è¿™äº›æ’ä»¶å¯ä»¥æ£€æŸ¥ï¼ˆlintï¼‰ä½ çš„ CSSï¼Œæ”¯æŒ CSS Variables å’Œ Mixinsï¼Œ ç¼–è¯‘å°šæœªè¢«æµè§ˆå™¨å¹¿æ³›æ”¯æŒçš„å…ˆè¿›çš„ CSS è¯­æ³•ï¼Œå†…è”å›¾ç‰‡ï¼Œä»¥åŠå…¶å®ƒå¾ˆå¤šä¼˜ç§€çš„åŠŸèƒ½ã€‚</p>
</li>
<li><p>PostCSS åœ¨å·¥ä¸šç•Œè¢«å¹¿æ³›åœ°åº”ç”¨ï¼Œå…¶ä¸­ä¸ä¹å¾ˆå¤šæœ‰åçš„è¡Œä¸šé¢†å¯¼è€…ï¼Œå¦‚ï¼šç»´åŸºç™¾ç§‘ï¼ŒTwitterï¼Œé˜¿é‡Œå·´å·´ï¼Œ JetBrainsã€‚PostCSS çš„ Autoprefixer æ’ä»¶æ˜¯æœ€æµè¡Œçš„ CSS å¤„ç†å·¥å…·ä¹‹ä¸€ã€‚</p>
</li>
<li><p>PostCSS æ¥æ”¶ä¸€ä¸ª CSS æ–‡ä»¶å¹¶æä¾›äº†ä¸€ä¸ª API æ¥åˆ†æã€ä¿®æ”¹å®ƒçš„è§„åˆ™ï¼ˆé€šè¿‡æŠŠ CSS è§„åˆ™è½¬æ¢æˆä¸€ä¸ªæŠ½è±¡è¯­æ³•æ ‘çš„æ–¹å¼ï¼‰ã€‚åœ¨è¿™ä¹‹åï¼Œè¿™ä¸ª API ä¾¿å¯è¢«è®¸å¤šæ’ä»¶åˆ©ç”¨æ¥åšæœ‰ç”¨çš„äº‹æƒ…ï¼Œæ¯”å¦‚å¯»é”™æˆ–è‡ªåŠ¨æ·»åŠ  CSS vendor å‰ç¼€ã€‚</p>
</li>
</ul>
<p>ä¸ªäººç†è§£å¯èƒ½æ¯”è¾ƒåƒä¸€ç§ css loaderï¼Œå®ƒå’Œ webpack ä¸€æ ·ï¼Œä¹Ÿæœ‰å¾ˆå¤šçš„æ’ä»¶ï¼Œè€Œ autoprefixer æ˜¯å…¶ä¸­æ¯”è¾ƒå‡ºåçš„ä¸€ä¸ªï¼Œå®ƒå…è®¸æ ¹æ®è®¾ç½®æ¥è‡ªåŠ¨å¢åŠ  css å…¼å®¹æˆ–è€…åˆ é™¤ä¸€äº›è€æ—§çš„æ ·å¼ï¼Œæ¯”å¦‚æˆ‘ä»¬åªç”¨å†™ <code>transition: height 0.4s;</code> ä¼šè‡ªåŠ¨ç¼–è¯‘æˆ <code>-webkit-transition: height 0.4s;</code></p>
<h3 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h3><p>é¦–å…ˆåœ¨ webpack é‡Œé¢éœ€è¦å¢åŠ  postCss çš„ loader<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">    <span class="built_in">module</span>: &#123;</span><br><span class="line">        rules: [</span><br><span class="line">            &#123;</span><br><span class="line">                test: <span class="regexp">/\.css$/</span>,</span><br><span class="line">                exclude: <span class="regexp">/node_modules/</span>,</span><br><span class="line">                use: [</span><br><span class="line">                    &#123;</span><br><span class="line">                        loader: <span class="string">'style-loader'</span>,</span><br><span class="line">                    &#125;,</span><br><span class="line">                    &#123;</span><br><span class="line">                        loader: <span class="string">'css-loader'</span>,</span><br><span class="line">                        options: &#123;</span><br><span class="line">                            importLoaders: <span class="number">1</span>,</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;,</span><br><span class="line">                    &#123;</span><br><span class="line">                        loader: <span class="string">'postcss-loader'</span></span><br><span class="line">                    &#125;</span><br><span class="line">                ]</span><br><span class="line">            &#125;</span><br><span class="line">        ]</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>ç„¶åå»è®¾ç½® postCss çš„é…ç½®ï¼Œè¿™é‡Œè®¾ç½®æœ‰å¾ˆå¤šç§æ–¹æ³•ï¼Œå…·ä½“å¯ä»¥çœ‹<a href="https://github.com/michael-ciniawsky/postcss-load-config" target="_blank" rel="noopener">è¿™ç¯‡</a></p>
<p>åœ¨ vue-cli é‡Œé¢é‡‡ç”¨çš„æ˜¯ä½¿ç”¨ <code>.postcssrc.js</code><br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  <span class="string">"plugins"</span>: &#123;</span><br><span class="line">    <span class="string">"postcss-import"</span>: &#123;&#125;,</span><br><span class="line">    <span class="string">"postcss-url"</span>: &#123;&#125;,</span><br><span class="line">    <span class="comment">// to edit target browsers: use "browserslist" field in package.json</span></span><br><span class="line">    <span class="string">"autoprefixer"</span>: &#123;&#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>ä»¥åŠåœ¨ package.json ä¸­çš„ Browserslist<br><a href="https://github.com/browserslist/browserslist" target="_blank" rel="noopener">Browserslist</a> æ˜¯ç”¨æ¥é…ç½®æµè§ˆå™¨å…¼å®¹ç‰ˆæœ¬çš„å·¥å…·ï¼Œbabel autoprefixer ç­‰éƒ½å¯ä»¥æ ¹æ®åœ¨ Browserslist ä¸­æä¾›çš„éœ€è¦å…¼å®¹çš„æµè§ˆå™¨ç‰ˆæœ¬è¿›è¡Œæœ‰é€‰æ‹©æ€§çš„é™çº§æ‰“åŒ…ã€‚<a href="http://browserl.ist/?q=defaults" target="_blank" rel="noopener">è¿™ä¸ªç½‘ç«™å¯ä»¥æŸ¥è¯¢ä¸åŒçš„é…ç½®å…¼å®¹å“ªäº›æµè§ˆå™¨ </a>ï¼Œä¸€èˆ¬æ¥è¯´æˆ‘ä»¬é…ç½®æˆ defaults å°±ğŸ‘Œï¼Œæˆ–è€…å°±ç”¨ vue-cli webpack æ¨¡ç‰ˆé‡Œçš„ã€‚</p>
<p>é™¤äº†è¿™ç§æ­£è§„çš„ä½¿ç”¨ loader çš„é…ç½® autoprefixer çš„ï¼Œè¿˜æœ‰å¦å¤–ä¸€ä¸ªæ’ä»¶ä¹Ÿæ£äº†é¬¼ <code>OptimizeCSSPlugin</code>ï¼Œ<br>å®é™…ä¸Š loader ä¸­çš„é…ç½®æ ¹æœ¬å°±æ²¡æœ‰å»åˆ é™¤ <code>-webkit-box-orient: vertical;</code>ï¼Œè€Œæ˜¯<code>OptimizeCSSPlugin</code> webpack æ’ä»¶å¹²çš„äº‹ï¼Œloader ä¸­çš„é…ç½®ç¡®å®è·Ÿéšäº† <code>package.json</code> ä¸‹çš„ <code>browserslist</code> å»åšå¯¹åº”æµè§ˆå™¨ä¸­çš„é…ç½®ã€‚å¦‚æœç›´æ¥å°† <code>webpack.prod.conf.js</code> ä¸­çš„ <code>new OptimizeCSSPlugin</code> ç»™æ³¨é‡Šæ‰å°±ä¼šå‘ç°å¤šè¡Œçš„æ ·å¼æ²¡æœ‰è¢«ç¼–è¯‘å¹²æ‰å›æ¥äº†ã€‚</p>
<h3 id="OptimizeCSSPlugin"><a href="#OptimizeCSSPlugin" class="headerlink" title="OptimizeCSSPlugin"></a><a href="https://github.com/NMFR/optimize-css-assets-webpack-plugin" target="_blank" rel="noopener">OptimizeCSSPlugin</a></h3><p>é‚£ä¹ˆè¿™ä¸ªä¸œè¥¿åˆ°åº•æ˜¯å¹²ä»€ä¹ˆç”¨çš„å‘¢ï¼Œæ¨¡ç‰ˆä¸­è§£é‡Šå¦‚ä¸‹</p>
<blockquote>
<p>Compress extracted CSS. We are using this plugin so that possible duplicated CSS from different components can be deduped.</p>
</blockquote>
<p>å®˜æ–¹è§£é‡Šå¦‚ä¸‹</p>
<blockquote>
<p>It will search for CSS assets during the Webpack build and will optimize \ minimize the CSS (by default it uses cssnano but a custom CSS processor can be specified).</p>
</blockquote>
<blockquote>
<p>Solves extract-text-webpack-plugin CSS duplication problem:<br>Since extract-text-webpack-plugin only bundles (merges) text chunks, if its used to bundle CSS, the bundle might have duplicate entries (chunks can be duplicate free but when merged, duplicate CSS can be created).</p>
</blockquote>
<p>å®ƒä¹Ÿæ˜¯ä¸€ä¸ªç”¨äºå‹ç¼©ï¼Œä¼˜åŒ– css æ–‡ä»¶çš„æ’ä»¶ï¼Œé»˜è®¤ç”¨çš„ cssnano å¤„ç†å™¨ã€‚ä¸»è¦æ˜¯å¯¹æ‰“åŒ…çš„ css å»é‡<br>æ¥ä¸‹æ¥è·³åˆ° <a href="https://github.com/cssnano/cssnano" target="_blank" rel="noopener">cssnano</a> </p>
<p>å®˜æ–¹è¯´æ˜</p>
<blockquote>
<p>cssnano is a modern, modular compression tool written on top of the PostCSS ecosystem, which allows us to use a lot of powerful features in order to compact CSS appropriately.</p>
</blockquote>
<blockquote>
<p>Our preset system allow you to load cssnano in a different configuration depending on your needs; the default preset performs safe transforms, whereas the advanced preset performs more aggressive transforms that are safe only when your site meets the requirements; but regardless of the preset you choose, we handle more than whitespace transforms!</p>
</blockquote>
<blockquote>
<p>Optimisations range from compressing colors &amp; removing comments, to discarding overridden at-rules, normalising unicode-range descriptors, even mangling gradient parameters for a smaller output value! In addition, where itâ€™s made sense for a transform, weâ€™ve added Browserslist to provide different output depending on the browsers that you support.</p>
</blockquote>
<p>ç„¶åé‡ç‚¹æ¥äº†ï¼Œä»–å–µçš„è¿™ä¸ªç©æ„åœ¨ advanced æ¨¡å¼ï¼ˆOptimizeCSSPluginé»˜è®¤å¼€äº†è¿™ä¸ªæ¨¡å¼ï¼‰ä¸‹é»˜è®¤ä¼šå¯ç”¨ autoprefixerï¼Œä½†æ˜¯å®ƒçš„è¿™ä¸ªæ¨¡å¼å’Œä¸Šé¢æ‰€è¯´çš„ autoprefixer å¹¶ä¸ä¸€æ ·ï¼å®ƒåªåˆ é™¤<br><code>autoprefixer: Removes unnecessary prefixes based on the browsers option. Note that by default, it will not add new prefixes to the CSS file.</code></p>
<p>æ‰€ä»¥è¿™é‡Œå°±çœŸç›¸å¤§ç™½äº†ã€‚è¿™ä¸ªç ´ç©æ„çš„è®¾ç½®å¯¼è‡´äº†æ•´ä¸ªé—®é¢˜çš„å‘ç”Ÿï¼Œè€Œä¸”å®ƒè—çš„å¦‚æ­¤ä¹‹æ·±ï¼Œand somehow åœ¨ package.json ä¸­çš„ Browserslist å¹¶æ²¡æœ‰è¢«å®ƒçœ‹åˆ°ï¼Œå®ƒåˆæœ‰ä¸€ä¸ªè‡ªå·±å•ç‹¬åˆ°è®¾ç½®æµè§ˆå™¨åˆ°é€‰é¡¹ï¼Œæ‰€ä»¥å®ƒå°±ä»»æ€§çš„åˆ é™¤äº†æˆ‘ä»¬æœ€å¼€å§‹çš„é‚£ä¸€æ¡æ ·å¼<code>-webkit-box-orient: vertical;</code></p>
<p>å…¶å®è¿™ä¸ªé—®é¢˜å·²ç»è¢«äººæè¿‡ï¼Œè€Œä¸”å·²ç»è¢«ä¿®å¤<br><a href="https://github.com/webpack-contrib/css-loader/issues/281" target="_blank" rel="noopener">issue1</a><br><a href="https://github.com/cssnano/cssnano/issues/252" target="_blank" rel="noopener">issue2</a><br><a href="https://github.com/cssnano/cssnano/releases/tag/v4.0.0-rc.0" target="_blank" rel="noopener">release 4.0</a><br><figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">By default, <span class="keyword">the</span> following transforms are no longer applied <span class="built_in">to</span> <span class="keyword">any</span> input CSS.</span><br><span class="line">You may see <span class="keyword">an</span> increased output <span class="built_in">file</span> size <span class="keyword">as</span> <span class="keyword">a</span> <span class="built_in">result</span>:</span><br><span class="line"></span><br><span class="line">autoprefixer</span><br><span class="line">postcss-discard-unused</span><br><span class="line">postcss-<span class="built_in">merge</span>-idents</span><br><span class="line">postcss-reduce-idents</span><br><span class="line">postcss-zindex</span><br></pre></td></tr></table></figure></p>
<p>åªæ˜¯<code>OptimizeCSSPlugin</code>å¹¶æ²¡æœ‰è·Ÿæ–°ï¼Œæ‰€ä»¥è¿™ä¸ªé—®é¢˜ä¾æ—§å­˜åœ¨</p>
<p>anywayã€‚ã€‚é—®é¢˜ä¾æ—§æ²¡æœ‰é‚£ä¹ˆç®€å•ï¼Œå½“æˆ‘æŠŠ<code>OptimizeCSSPlugin</code>å‡çº§åˆ°5.0ä¹‹åå†è¿è¡Œï¼ŒåˆæŠ¥äº†ä¸€ä¸ªæ–°çš„é”™è¯¯<br><figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Cannot <span class="keyword">read</span> property <span class="string">'compilation'</span> of undefined</span><br><span class="line">   at OptimizeCssAssetsWebpackPlugin.apply (<span class="regexp">/Users/m</span>fw<span class="regexp">/mfw_webpack/</span>activity_city<span class="regexp">/node_modules/</span>last-<span class="keyword">call</span>-webpack-plugin<span class="regexp">/src/i</span>ndex.js:<span class="number">170</span>:<span class="number">20</span>)</span><br></pre></td></tr></table></figure></p>
<p>= =. è·Ÿåˆ°è¿™é‡Œæ²¡æƒ³åˆ°åˆæ˜¯ä¸€ä¸ªå‘ã€‚å¥½å§ï¼Œç»§ç»­è·Ÿï¼</p>
<p>ç„¶é¹…ã€‚ã€‚ã€‚å‘ç°äº†æ–°ç‰ˆæœ¬åªèƒ½åœ¨ webpack 4.0 ä¸­ä½¿ç”¨ã€‚so å¦‚æœæƒ³æ°¸ä¹…è§£å†³çš„è¯å¯èƒ½éœ€è¦è€ƒè™‘ä¸‹å‡çº§åˆ° webpack4ï¼Œä½†æ˜¯å‡çº§åˆ°webpack4éœ€è¦å·¨å¤§çš„å‹‡æ°”ï¼Œwebpack4 æœ¬èº«è¿˜å¥½ï¼Œä½†æ˜¯é‚£ä¸€å †æ’ä»¶è¦æ‰¾ä¸€ä¸ªåˆé€‚çš„èƒ½é™çº§çš„å°±å¤ªéº»çƒ¦äº†</p>

      
    </div>

<!--/åˆ æ‰ä¸€æ®µ-->

    <footer class="post-footer">
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2018/06/25/new/gitåŸºæœ¬æ“ä½œäº†è§£ä¸€ä¸‹/" rel="next" title="gitåŸºæœ¬æ“ä½œäº†è§£ä¸€ä¸‹">
                <i class="fa fa-chevron-left"></i> gitåŸºæœ¬æ“ä½œäº†è§£ä¸€ä¸‹
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
          </div>
        </div>
      

      
      
    </footer>
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
      <div id="disqus_thread">
        <noscript>
          Please enable JavaScript to view the
          <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a>
        </noscript>
      </div>
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            æ–‡ç« ç›®å½•
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            ç«™ç‚¹æ¦‚è§ˆ
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="http://olti9qjwg.bkt.clouddn.com/qiniu/img/me.config/me.png"
               alt="yuicer" />
          <p class="site-author-name" itemprop="name">yuicer</p>
          <p class="site-description motion-element" itemprop="description">ç§‹éœ²å ã€‚æ»´å°½æ¥šå…°çº¢æ³ªã€‚å¾€äº‹æ—§æ¬¢ä½•é™æ„ã€‚æ€é‡å¦‚æ¢¦å¯ã€‚äººè²Œè€äºå‰å²ã€‚é£æœˆå®›ç„¶æ— å¼‚ã€‚åº§æœ‰å˜‰å®¾å°Šæœ‰æ¡‚ã€‚è«è¾ç»ˆå¤•é†‰ã€‚</p>
        </div>

        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/yuicer" target="_blank" title="Github">
                  
                    <i class="fa fa-fw fa-github"></i>
                  
                  Github
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="https://space.bilibili.com/3069623" target="_blank" title="BiliBili">
                  
                    <i class="fa fa-fw fa-play"></i>
                  
                  BiliBili
                </a>
              </span>
            
          
        </div>

        
        

        
        

        


      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#postCss"><span class="nav-number">1.</span> <span class="nav-text">postCss</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#å‰è¨€"><span class="nav-number">1.1.</span> <span class="nav-text">å‰è¨€</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#è§£å†³æ–¹æ³•"><span class="nav-number">1.2.</span> <span class="nav-text">è§£å†³æ–¹æ³•</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#postCss-1"><span class="nav-number">1.3.</span> <span class="nav-text">postCss</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ä½¿ç”¨"><span class="nav-number">1.4.</span> <span class="nav-text">ä½¿ç”¨</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#OptimizeCSSPlugin"><span class="nav-number">1.5.</span> <span class="nav-text">OptimizeCSSPlugin</span></a></li></ol></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy;  2016 - 
  <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">yuicer</span>
</div>



        

        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  



  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.0"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.0"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.0"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.0"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.0"></script>



  



  

    <script type="text/javascript">
      var disqus_shortname = 'yuicer';
      var disqus_identifier = '2018/07/13/new/postCss/';

      var disqus_title = "postCss";


      function run_disqus_script(disqus_script) {
        var dsq = document.createElement('script');
        dsq.type = 'text/javascript';
        dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/' + disqus_script;
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
      }

      run_disqus_script('count.js');

      
        var disqus_config = function () {
            this.page.url = disqus_url;
            this.page.identifier = disqus_identifier;
            this.page.title = disqus_title;
        };
        run_disqus_script('embed.js');
      

    </script>
  





  
  
  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length == 0) {
      search_path = "search.xml";
    }
    var path = "/" + search_path;
    // monitor main search box;

    function proceedsearch() {
      $("body").append('<div class="popoverlay">').css('overflow', 'hidden');
      $('.popup').toggle();
    }
    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';
      $.ajax({
        url: path,
        dataType: "xml",
        async: true,
        success: function( xmlResponse ) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = $( "entry", xmlResponse ).map(function() {
            return {
              title: $( "title", this ).text(),
              content: $("content",this).text(),
              url: $( "url" , this).text()
            };
          }).get();
          var $input = document.getElementById(search_id);
          var $resultContent = document.getElementById(content_id);
          $input.addEventListener('input', function(){
            var matchcounts = 0;
            var str='<ul class=\"search-result-list\">';
            var keywords = this.value.trim().toLowerCase().split(/[\s\-]+/);
            $resultContent.innerHTML = "";
            if (this.value.trim().length > 1) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var content_index = [];
                var data_title = data.title.trim().toLowerCase();
                var data_content = data.content.trim().replace(/<[^>]+>/g,"").toLowerCase();
                var data_url = decodeURIComponent(data.url);
                var index_title = -1;
                var index_content = -1;
                var first_occur = -1;
                // only match artiles with not empty titles and contents
                if(data_title != '') {
                  keywords.forEach(function(keyword, i) {
                    index_title = data_title.indexOf(keyword);
                    index_content = data_content.indexOf(keyword);
                    if( index_title >= 0 || index_content >= 0 ){
                      isMatch = true;
                      if (i == 0) {
                        first_occur = index_content;
                      }
                    }

                  });
                }
                // show search results
                if (isMatch) {
                  matchcounts += 1;
                  str += "<li><a href='"+ data_url +"' class='search-result-title'>"+ data_title +"</a>";
                  var content = data.content.trim().replace(/<[^>]+>/g,"");
                  if (first_occur >= 0) {
                    // cut out 100 characters
                    var start = first_occur - 20;
                    var end = first_occur + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if(start == 0){
                      end = 50;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    var match_content = content.substring(start, end);
                    // highlight all keywords
                    keywords.forEach(function(keyword){
                      var regS = new RegExp(keyword, "gi");
                      match_content = match_content.replace(regS, "<b class=\"search-keyword\">"+keyword+"</b>");
                    });

                    str += "<p class=\"search-result\">" + match_content +"...</p>"
                  }
                  str += "</li>";
                }
              })};
            str += "</ul>";
            if (matchcounts == 0) { str = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>' }
            if (keywords == "") { str = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>' }
            $resultContent.innerHTML = str;
          });
          proceedsearch();
        }
      });}

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched == false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(function(e){
      $('.popup').hide();
      $(".popoverlay").remove();
      $('body').css('overflow', '');
    });
    $('.popup').click(function(e){
      e.stopPropagation();
    });
  </script>


  

  

  

  


</body>
</html>
